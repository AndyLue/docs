## 云原生应用设计指南

## 聚合网关方式

### 设计思路
- 各应用提供统一的代办、已办、代签api，基于白名单做访问控制
- 用户访问聚合接口时，后台根据权限获取应用的代办（已办、代签）信息

### 统一api

- 参数：租户编码、用户名，或直接使用用户id
- 返回字段：流程名称 单位 部门 人员 环节详情 应用名称 流程实例id 流程任务id 网页跳转URL app跳转URL（或AppLink）流程发起时间 任务到达时间 耗时（仅已办）

### 具体实现

- 应用注册时提交代办、已办等api接口地址，具体返回根据统一api要求
- 借助协程并发获取应用代办等api数据，根据前台排序和分组要求（按类型、应用、单位、部门等分组，按时间等排序）重组数据返回给前台
- 设置超时，设置提醒，允许用户refresh获取
- 中台消息API提供app push 代办的接口

### 优点

- 解决api双写带来的数据不一致问题
